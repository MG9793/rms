<?php
       require_once "../db/config/conn.php";
?>
<head>
<style>
div.headReport {
  text-align: center;
  font-size: 20px

}

div.headTable {
  text-align: center;
  font-size: 20px
}

div.detail {
  text-align: right;
} 

table, td, th {
  border: 1px solid black;
}
table {
  border-collapse: collapse;
  width: 2100px;
}
th {
  height: 50px;
  text-align: center;    //ตรงกลาง
  width: 150px;
}
td{
  height: 50px;
  text-align: left;    //ชิดด้านขวา
  vertical-align: bottom;  //ชิดด้านล่าง
  width: 150px;
}

</style>

</head>
<body>

        <div class="headReport" >สรุปค่าใช้จ่ายประจำเดือน มกราคม-ธันวาคม พ.ศ.2565 บริษัท สิทธิชัยเอนจิเนียริ่ง จำกัด (ทำงบ)</div>

  
    <table>
        <thead class="headTable">
            <tr>
                <th>รายละเอียด</th>
                <th>มกราคม</th>
                <th>กุมภาพันธ์</th>
                <th>มีนาคม</th>
                <th>เมษายน</th>
                <th>พฤษภาคม</th>
                <th>มิถุนายน</th>
                <th>กรกฎาคม</th>
                <th>สิงหาคม</th>
                <th>กันยายน</th>
                <th>ตุลาคม</th>
                <th>พฤศจิกายน</th>
                <th>ธันวาคม</th>
                <th>TOTAL</th>

            </tr>
        </thead>
        <tbody>
            <?php 
                $stmt = $conn->query("SELECT item_name FROM item_info");
                $stmt->execute();
                $item = $stmt->fetchAll();

                if (!$item) {
                    echo "<p><td colspan='15' class='text-center'>ไม่พบข้อมูล</td></p>";
                } else {
                    foreach ($item as $fetch_itemInfo) {
                        echo "<tr><td rowspan='1'>" . $fetch_itemInfo['item_name'] . "</td></tr>";
                    }
                }

                
                ?>
                
                <tr>
                    <th>รวม</th>
                </tr>
        </tbody>
    </table>



    <script>
        function formatNumberWithCommas(number) {
            return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
        
        document.querySelectorAll('.commas').forEach(function(element) {
            element.textContent = formatNumberWithCommas(element.textContent);
        });
    </script>




    
</body>
</html>